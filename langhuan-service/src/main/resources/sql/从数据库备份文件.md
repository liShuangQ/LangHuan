å¯¼å‡ºä¸ºjson
```sql
SELECT
    v.content AS content,
    (v.metadata ->> 'filename') AS filename,
    fg.group_name AS group_name
FROM
    vector_store_rag v
        LEFT JOIN
    t_rag_file_group fg
    ON
            (v.metadata ->> 'groupId')::INTEGER = fg.id;

```

bunæ‰§è¡Œ
```js
import { readFileSync, writeFileSync } from 'fs';
import { join } from 'path';

// è¯»å–JSONæ–‡ä»¶
function readJsonFile(filePath) {
  try {
    const data = readFileSync(filePath, 'utf8');
    return JSON.parse(data);
  } catch (error) {
    console.error('è¯»å–æ–‡ä»¶å¤±è´¥:', error.message);
    process.exit(1);
  }
}

// ç§»é™¤æ–‡ä»¶åä¸­çš„æ‰©å±•å
function removeFileExtension(filename) {
  return filename.replace(/\.(txt|docx|doc|pdf|xlsx|xls)$/i, '');
}

// åˆ›å»ºå®‰å…¨çš„æ–‡ä»¶åï¼ˆç§»é™¤ç‰¹æ®Šå­—ç¬¦ï¼‰
function createSafeFilename(groupName, filename) {
  const safeGroupName = groupName.replace(/[<>:"/\\|?*]/g, '_');
  const safeFilename = removeFileExtension(filename).replace(/[<>:"/\\|?*]/g, '_');
  return `${safeGroupName}-${safeFilename}.txt`;
}

// å¤„ç†æ•°æ®å¹¶ç”Ÿæˆæ–‡ä»¶
function processData(data) {
  // åˆ›å»ºåˆ†ç»„å¯¹è±¡
  const groups = {};
  
  // æŒ‰group_nameå’Œfilenameåˆ†ç»„
  data.forEach(item => {
    const { content, filename, group_name } = item;
    
    if (!content || !filename || !group_name) {
      console.warn('è·³è¿‡ä¸å®Œæ•´çš„æ•°æ®é¡¹:', item);
      return;
    }
    
    const key = `${group_name}|${filename}`;
    
    if (!groups[key]) {
      groups[key] = {
        group_name,
        filename,
        contents: []
      };
    }
    
    groups[key].contents.push(content);
  });
  
  // ç”Ÿæˆæ–‡ä»¶
  let fileCount = 0;
  Object.values(groups).forEach(group => {
    const outputFilename = createSafeFilename(group.group_name, group.filename);
    const combinedContent = group.contents.join('\n======\n');
    
    try {
      writeFileSync(outputFilename, combinedContent, 'utf8');
      console.log(`âœ… å·²ç”Ÿæˆæ–‡ä»¶: ${outputFilename}`);
      fileCount++;
    } catch (error) {
      console.error(`âŒ ç”Ÿæˆæ–‡ä»¶å¤±è´¥ ${outputFilename}:`, error.message);
    }
  });
  
  console.log(`\nğŸ‰ å¤„ç†å®Œæˆï¼å…±ç”Ÿæˆ ${fileCount} ä¸ªæ–‡ä»¶`);
  console.log(`ğŸ“Š ç»Ÿè®¡ä¿¡æ¯:`);
  console.log(`   - åŸå§‹æ•°æ®é¡¹: ${data.length}`);
  console.log(`   - åˆ†ç»„æ•°é‡: ${Object.keys(groups).length}`);
}

// ä¸»å‡½æ•°
function main() {
  const inputFile = 'Result_2.json';
  
  console.log('ğŸ“– å¼€å§‹å¤„ç† Result_2.json...');
  
  // è¯»å–æ•°æ®
  const data = readJsonFile(inputFile);
  
  if (!Array.isArray(data)) {
    console.error('âŒ JSONæ–‡ä»¶æ ¼å¼é”™è¯¯ï¼šåº”è¯¥æ˜¯ä¸€ä¸ªæ•°ç»„');
    process.exit(1);
  }
  
  console.log(`ğŸ“Š è¯»å–åˆ° ${data.length} æ¡æ•°æ®`);
  
  // å¤„ç†æ•°æ®
  processData(data);
}

// è¿è¡Œè„šæœ¬
main(); 
```